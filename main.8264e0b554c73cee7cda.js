(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n="2d53711114e6a31d868fcd5b",r=function(){function t(e,n,r){var o=e.name,i=e.link,u=e.likes,a=e.owner,c=e._id,l=r.handleCardClick,s=r.handleDeleteClick,f=r.handleLikeClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._templateSelector=n,this._name=o,this._link=i,this._handleCardClick=l,this._likes=u,this._likeCount=u.length,this._handleDeleteClick=s,this._owner=a._id,this._id=c,this._handleLikeClick=f,this.isLiked=this._checkLike()}var r,o;return r=t,(o=[{key:"_getTemplate",value:function(){this._template=document.querySelector(this._templateSelector).content.querySelector(".element"),this._card=this._template.cloneNode(!0),this._image=this._card.querySelector(".element__image"),this._text=this._card.querySelector(".element__title"),this._buttonLike=this._card.querySelector(".element__like-btn"),this._buttonDelete=this._card.querySelector(".element__delete-btn"),this._likeCounter=this._card.querySelector(".element__like-counter")}},{key:"_checkOwner",value:function(){this._owner!==n&&this._buttonDelete.remove()}},{key:"_checkLike",value:function(){var t=!1;return this._likes.forEach((function(e){e._id!==n||(t=!0)})),t}},{key:"_addLike",value:function(){this._buttonLike.classList.add("element__like-btn_active")}},{key:"_removeLike",value:function(){this._buttonLike.classList.remove("element__like-btn_active")}},{key:"toggleLike",value:function(t){this.setLikesCount(t),this.isLiked?this._removeLike():this._addLike(),this.isLiked=!this.isLiked}},{key:"setLikesCount",value:function(t){this._likeCounter.textContent=t}},{key:"_setData",value:function(){this._image.src=this._link,this._image.alt=this._name,this._text.textContent=this._name,this.setLikesCount(this._likeCount),this.isLiked&&this._addLike()}},{key:"delete",value:function(){this._card.remove(),this._card=null}},{key:"_setListeners",value:function(){var t=this;this._buttonLike.addEventListener("click",this._handleLikeClick),this._buttonDelete.addEventListener("click",this._handleDeleteClick),this._image.addEventListener("click",(function(e){t._handleCardClick(e)}))}},{key:"getCardData",value:function(){var t={};return t.link=this._link,t.text=this._text.textContent,t}},{key:"createCard",value:function(){return this._getTemplate(),this._checkOwner(),this._setData(),this._setListeners(),this._card}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){var e=this._form.querySelector(".".concat(t.id,"-error"));e.textContent=t.validationMessage,e.classList.add(this._config.errorClass),t.classList.add(this._config.inputErrorClass)}},{key:"_hideInputError",value:function(t){var e=this._form.querySelector(".".concat(t.id,"-error"));e.textContent="",e.classList.remove(this._config.errorClass),t.classList.remove(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.classList.remove(this._config.buttonOpacity),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.classList.add(this._config.buttonOpacity),this._buttonElement.disabled=!1)}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===a(o)?o:String(o)),r)}var o}var l=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._containerSelector=n,this._container=document.querySelector(this._containerSelector)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"addInitialItems",value:function(){var t=this;this._items.reverse().forEach((function(e){t._renderer(e)}))}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._buttonClose=this._popup.querySelector(".popup__close-btn")}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._buttonClose.addEventListener("click",(function(){t.close()})),this._popup.addEventListener("mousedown",(function(e){e.target===e.currentTarget&&t.close()}))}},{key:"renderLoading",value:function(t){this._buttonSubmit.textContent=t?this._buttonSubmit.dataset.buttonLoadingText:this._buttonSubmit.dataset.buttonText}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._image=e._popup.querySelector(".popup__image"),e._text=e._popup.querySelector(".popup__description"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.link,n=t.text;this._image.src=e,this._image.alt=n,this._text.textContent=n,d(b(u.prototype),"open",this).call(this)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},k.apply(this,arguments)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(r);if(o){var n=w(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._popup.querySelectorAll(".popup__item")),n._buttonSubmit=n._popup.querySelector(".popup__save-btn"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;k(w(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault();var n=t._getInputValues();t._handleFormSubmit(n)}))}},{key:"setInputValues",value:function(t){var e=0;for(var n in t)this._inputList[e].value=t[n],e++}},{key:"close",value:function(){k(w(u.prototype),"close",this).call(this),this._form.reset()}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}var O=function(){function t(e){var n=e.nameSelector,r=e.jobSelector,o=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){var t={};return t.name=this._name.textContent,t.job=this._job.textContent,t}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about,r=t.avatar;this._name.textContent=e,this._job.textContent=n,this.setAvatar({avatar:r})}},{key:"setAvatar",value:function(t){var e=t.avatar;this._avatar.src=e}}])&&j(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var T=function(t){return t.ok?t.json():Promise.reject(new Error("Ошибка: ".concat(t.status)))},I=function(){function t(e){var n=e.url,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=n,this._headers=r}var e,n;return e=t,(n=[{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(T)}},{key:"setUserData",value:function(t){var e=t.name,n=t.about;return fetch("".concat(this._url,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:n})}).then(T)}},{key:"getInitialCardsData",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(T)}},{key:"setCardData",value:function(t){var e=t.name,n=t.link;return fetch("".concat(this._url,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:e,link:n})}).then(T)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t._id),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?t:Promise.reject(new Error("Ошибка: ".concat(e.status)))}))}},{key:"addLike",value:function(t){var e=t._id;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{headers:this._headers,method:"PUT"}).then(T)}},{key:"removeLike",value:function(t){var e=t._id;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{headers:this._headers,method:"DELETE"}).then(T)}},{key:"setAvatar",value:function(t){var e=t.link;return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(T)}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),q={formSelector:".popup__form",inputSelector:".popup__item",submitButtonSelector:".popup__save-btn",inactiveButtonClass:"popup__save-btn_disabled",inputErrorClass:"popup__item_type_error",errorClass:"popup__error_visible",buttonOpacity:"button-opacity"},D={container:".elements",nameField:".profile__name",jobField:".profile__description",avatar:".profile__avatar",popupProfile:".popup_type_profile",popupCard:".popup_type_card",popupPicture:".popup_type_picture",popupConfirm:".popup_type_confirm",popupAvatar:".popup_type_avatar",cardTemplateId:"#card"},R=document.querySelector(".profile__edit-button"),x=document.querySelector(".profile__add-button"),B=document.querySelector(".profile__avatar-wrapper"),A=document.querySelector('.popup__form[name="profile-input-form"]'),U=document.querySelector('.popup__form[name="add-card-input-form"]'),V=document.querySelector('.popup__form[name="avatar-input-form"]');function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},J.apply(this,arguments)}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(r);if(o){var n=z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._action=e,n._form=n._popup.querySelector(".popup__form"),n}return e=u,(n=[{key:"open",value:function(t){this.item=t,J(z(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;J(z(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._action(t.item),t.close()}))}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function G(t){var e=new r(t,D.cardTemplateId,{handleCardClick:function(){rt.open(e.getCardData())},handleDeleteClick:function(){nt.open(e)},handleLikeClick:function(){e.isLiked?Q.removeLike(e).then((function(t){e.toggleLike(t.likes.length)})):Q.addLike(e).then((function(t){e.toggleLike(t.likes.length)}))}});return e.createCard()}var K,Q=new I({url:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{"Content-Type":"application/json",authorization:"7daba374-a55e-4250-81a9-4f3724b24784"}});Q.getInitialCardsData().then((function(t){(K=new l({items:t,renderer:function(t){var e=G(t);K.addItem(e)}},D.container)).addInitialItems()}));var W=new u(q,A),X=new u(q,U),Y=new u(q,V),Z=new O({nameSelector:D.nameField,jobSelector:D.jobField,avatarSelector:D.avatar});Q.getUserData().then((function(t){Z.setUserInfo(t)})).catch((function(){console.log(new Error("Ошибка загрузки"))}));var $=new L(D.popupProfile,(function(t){$.renderLoading(!0),Q.setUserData(t).then((function(t){Z.setUserInfo(t),$.close()})).finally((function(){$.renderLoading(!1)}))})),tt=new L(D.popupCard,(function(t){tt.renderLoading(!0),Q.setCardData(t).then((function(t){var e=G(t);K.addItem(e),tt.close()})).finally((function(){tt.renderLoading(!1)}))})),et=new L(D.popupAvatar,(function(t){et.renderLoading(!0),Q.setAvatar(t).then((function(t){Z.setAvatar(t)})).then((function(){et.close()})).finally((function(){et.renderLoading(!1)}))})),nt=new M(D.popupConfirm,(function(t){nt.renderLoading(!0),Q.deleteCard(t).then((function(t){return t.delete()})).finally((function(){nt.renderLoading(!1)}))})),rt=new m(D.popupPicture);$.setEventListeners(),tt.setEventListeners(),rt.setEventListeners(),nt.setEventListeners(),et.setEventListeners(),$.setInputValues(Z.getUserInfo()),R.addEventListener("click",(function(){$.setInputValues(Z.getUserInfo()),$.open()})),x.addEventListener("click",(function(){X.toggleButtonState(),tt.open()})),B.addEventListener("click",(function(){et.open()})),W.enableValidation(),X.enableValidation(),Y.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNYMUIsR0FBbUIwQixvQkFDbkJ6QyxHQUFZeUMsb0JBS2Q3QyxFQUFhOEMsZUFBZWIsRUFBU2MsZUFHckN6QyxFQUF1QnRILGlCQUFpQixTQUFTLFdBQy9DZ0gsRUFBYThDLGVBQWViLEVBQVNjLGVBQ3JDL0MsRUFBYWlCLE1BQU0sSUFFckJWLEVBQTRCdkgsaUJBQWlCLFNBQVMsV0FDcEQrSSxFQUFrQmpILG9CQUNsQm1GLEdBQVVnQixNQUNaLElBRUFULEVBQWF4SCxpQkFBaUIsU0FBUyxXQUNyQ29ILEdBQVlhLE1BQ2QsSUExR0VhLEVBQXFCa0IsbUJBQ3JCakIsRUFBa0JpQixtQkFDbEJoQixFQUFvQmdCLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVU0VSX0lEID0gJzJkNTM3MTExMTRlNmEzMWQ4NjhmY2Q1Yic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuXHJcbiAgY29uc3RydWN0b3Ioe25hbWUsIGxpbmssIGxpa2VzLCBvd25lciwgX2lkfSwgdGVtcGxhdGVTZWxlY3RvcixcclxuICAgICB7IGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDbGljayB9KSB7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5fbGlrZUNvdW50ID0gbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX293bmVyID0gb3duZXIuX2lkO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSB0aGlzLl9jaGVja0xpa2UoKTtcclxuICB9XHJcbiAgXHJcbiAgLy/Qn9C+0LvRg9GH0LXQvdC40LUg0YjQsNCx0LvQvtC90LAg0LrQsNGA0YLQvtGA0YfQutC4INC4INCy0YHQtdGFINC90YPQttC90YvRhSDRjdC70LXQvNC10L3RgtC+0LJcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpO1xyXG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX3RlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX3RleHQgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpO1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnRuJyk7XHJcbiAgICB0aGlzLl9idXR0b25EZWxldGUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUtYnRuJyk7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnRlcicpO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9GA0L7QstC10YDQutCwINGP0LLQu9GP0LXRgtGB0Y8g0LvQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LLQu9Cw0LTQtdC70YzRhtC10Lwg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9jaGVja093bmVyKCkge1xyXG4gICAgaWYgKHRoaXMuX293bmVyICE9PSBVU0VSX0lEKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0J/RgNC+0LLQtdGA0LrQsCDQu9Cw0LnQutCw0Lsg0LvQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LrQsNGA0YLQvtGH0LrRg1xyXG4gIF9jaGVja0xpa2UoKSB7XHJcbiAgICBsZXQgbGlrZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5fbGlrZXMuZm9yRWFjaCh1c2VyID0+IHtcclxuICAgICAgaWYgKHVzZXIuX2lkID09PSBVU0VSX0lEKSB7XHJcbiAgICAgICAgbGlrZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBsaWtlO1xyXG4gIH1cclxuXHJcbiAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDQu9Cw0LnQutCwXHJcbiAgX2FkZExpa2UoKSB7XHJcbiAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYnRuX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgLy/QodC90Y/RgtC40LUg0LvQsNC50LrQsFxyXG4gIF9yZW1vdmVMaWtlKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlLWJ0bl9hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIC8v0JLRi9Cx0L7RgCDQtNC+0LHQsNCy0LvQtdC90LjRjy/RgdC90Y/RgtC40Y8g0LvQsNC50LrQsCDQuCDRg9GB0YLQsNC90L7QstC60LAg0LrQvtC70LjRh9C10YHRgtCy0LAg0LvQsNC50LrQvtCyXHJcbiAgdG9nZ2xlTGlrZShjb3VudCkge1xyXG4gICAgdGhpcy5zZXRMaWtlc0NvdW50KGNvdW50KTtcclxuXHJcbiAgICBpZih0aGlzLmlzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fcmVtb3ZlTGlrZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYWRkTGlrZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaXNMaWtlZCA9ICF0aGlzLmlzTGlrZWRcclxuICB9XHJcblxyXG4gIC8v0KPRgdGC0LDQvdC+0LLQutCwINC60L7Qu9C40YfQtdGB0YLQstCwINC70LDQudC60L7QslxyXG4gIHNldExpa2VzQ291bnQoY291bnQpIHtcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gY291bnQ7XHJcbiAgfVxyXG5cclxuICAvL9Cf0LXRgNC10LTQsNGH0LAg0LrQsNGA0YLQvtGH0LrQtSDQuNC30L7QsdGA0LDQttC10L3QuNGPINC4INC30LDQs9C+0LvQvtCy0LrQsFxyXG4gIF9zZXREYXRhKCkge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl90ZXh0LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuc2V0TGlrZXNDb3VudCh0aGlzLl9saWtlQ291bnQpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTGlrZWQpIHsgdGhpcy5fYWRkTGlrZSgpIH1cclxuICB9XHJcblxyXG4gIC8v0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgZGVsZXRlKCkge1xyXG4gICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70LXQuVxyXG4gIF9zZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTGlrZUNsaWNrKTtcclxuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKTtcclxuICAgIHRoaXMuX2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZ0ID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKGV2dCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy/Qn9C+0LvRg9GH0LXQvdC40LUg0LTQsNC90L3Ri9GFINC60LDRgNGC0L7Rh9C60LhcclxuICBnZXRDYXJkRGF0YSgpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgIGRhdGEubGluayA9IHRoaXMuX2xpbms7XHJcbiAgICBkYXRhLnRleHQgPSB0aGlzLl90ZXh0LnRleHRDb250ZW50O1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgLy/QodC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60LhcclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NoZWNrT3duZXIoKTtcclxuICAgIHRoaXMuX3NldERhdGEoKTtcclxuICAgIHRoaXMuX3NldExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG5cclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0J/QvtC60LDQt9Cw0YLRjCDQvtGI0LjQsdC60YNcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIC8v0KHQutGA0YvRgtGMINC+0YjQuNCx0LrRg1xyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG5cclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvL9Cf0YDQvtCy0LXRgNC60LAg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70Y9cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9CU0L7QsdCw0LLQu9C10L3QuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDRgdC+0LHRi9GC0LjRjyAnaW5wdXQnINC90LAg0L/QvtC70Y8g0LLQstC+0LTQsFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8v0J/RgNC+0LLQtdGA0LrQsCDQvdCw0LvQuNGH0LjRjy/QvtGC0YHRg9GC0YHQstC40Y8g0L3QtdCy0LDQu9C40LTQvdC+0LPQviDQv9C+0LvRjyDQsiDRhNC+0YDQvNC1XHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZShpbnB1dEVsZW1lbnQgPT4ge1xyXG4gICAgICByZXR1cm4gKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9CQ0LrRgtC40LLQsNGG0LjRjy/QtNC10LDQutGC0LjQstCw0YbQuNGPINC60L3QvtC/0LrQuCBzdWJtaXRcclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmJ1dHRvbk9wYWNpdHkpXHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5idXR0b25PcGFjaXR5KVxyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9CS0LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40LhcclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXJTZWxlY3RvciA9IGNvbnRhaW5lclNlbGVjdG9yO1xyXG4gICAgLy/Qn9C+0LvRg9GH0LXQvdC40LUg0LrQvtC90YLQtdC50L3QtdGA0LAg0L/QviDRgdC10LvQtdC60YLQvtGA0YNcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuICBhZGRJdGVtKGNhcmQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10LogXCLQuNC3INC60L7RgNC+0LHQutC4XCJcclxuICBhZGRJbml0aWFsSXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5yZXZlcnNlKCkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KVxyXG4gIH1cclxufSIsImNvbnN0IEtFWV9FU0NBUEVfVkFMVUUgPSAnRXNjYXBlJyBcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9idXR0b25DbG9zZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnRuJyk7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0L7RgtC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy/QntCx0YDQsNCx0L7RgtGH0LjQuiDQt9Cw0LrRgNGL0YLQuNGPINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINC60LvQsNCy0LjRiNC10LkgXCJFc2NcIlxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBLRVlfRVNDQVBFX1ZBTFVFKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0JTQvtCx0LDQstC70LXQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YHQvtCx0YvRgtC40LlcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2J1dHRvbkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyB0aGlzLmNsb3NlKCk7IH0pO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2dCA9PiB7XHJcbiAgICAgIGlmKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy/QntGC0L7QsdGA0LDQttC10L3QuNC1INC/0YDQvtGG0LXRgdGB0LAg0LfQsNCz0YDRg9C30LrQuFxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvblN1Ym1pdC5kYXRhc2V0LmJ1dHRvbkxvYWRpbmdUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uU3VibWl0LmRhdGFzZXQuYnV0dG9uVGV4dDtcclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZXNjcmlwdGlvbicpO1xyXG4gIH1cclxuXHJcbiAgLy/QntGC0LrRgNGL0YLQuNC1INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINGBINC/0YDQtdC00LLQsNGA0LjRgtC10LvRjNC90YvQvCDQvdCw0L/QvtC70L3QtdC90LjQtdC8XHJcbiAgb3Blbih7IGxpbmssIHRleHQgfSkge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRleHQ7XHJcbiAgICB0aGlzLl90ZXh0LnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIHN1cGVyLm9wZW4oKVxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2l0ZW0nKSk7XHJcbiAgICB0aGlzLl9idXR0b25TdWJtaXQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnRuJyk7XHJcbiAgfVxyXG5cclxuICAvL9Cf0L7Qu9GD0YfQtdC90LjQtSDQt9C90LDRh9C10L3QuNC5INC/0L7Qu9C10Lkg0YTQvtGA0LzRi1xyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzTGlzdCA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc0xpc3RbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzTGlzdDtcclxuICB9XHJcblxyXG4gIC8v0JTQvtCx0LDQstC70LXQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YHQvtCx0YvRgtC40LlcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGRhdGEpO1xyXG4gICAgIH0pXHJcbiAgfVxyXG5cclxuICAvL9CX0LDQv9C+0LvQvdC10L3QuNC1INC/0L7Qu9C10Lkg0YTQvtGA0LzRiyDQtNCw0L3QvdGL0LzQuCDQuNC3INC/0LXRgNC10LTQsNCy0LDQtdC80L7Qs9C+INC+0LHRitC10LrRgtCwXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgbGV0IGluZGV4ID0gMDtcclxuICAgIGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcbiAgICAgIHRoaXMuX2lucHV0TGlzdFtpbmRleF0udmFsdWUgPSBkYXRhW2tleV07XHJcbiAgICAgIGluZGV4Kys7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9CX0LDQutGA0YvRgtC40LUg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0YHQviDRgdCx0YDQvtGB0L7QvCDQt9C90LDRh9C10L3QuNC5INC/0L7Qu9C10Lkg0YTQvtGA0LzRi1xyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0L/QvtC70YPRh9C10L3QuNC1INC00LDQvdC90YvRhSDQv9GA0L7RhNC40LvRjyDRgdC+INGB0YLRgNCw0L3QuNGG0YtcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgIGRhdGEubmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XHJcbiAgICBkYXRhLmpvYiA9IHRoaXMuX2pvYi50ZXh0Q29udGVudDtcclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCDRg9GB0YLQsNC90L7QstC60Lgg0LTQsNC90L3Ri9GFINC/0YDQvtGE0LjQu9GPINC90LAg0YHRgtGA0LDQvdC40YbQtSDQuNC3INC/0LXRgNC10LTQsNCy0LDQtdC80L7Qs9C+INC+0LHRitC10LrRgtCwXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgICB0aGlzLnNldEF2YXRhcih7IGF2YXRhciB9KTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCDRg9GB0YLQsNC90L7QstC60Lgg0LDQstCw0YLQsNGA0LAg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgc2V0QXZhdGFyKHsgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59IiwiY29uc3QgaGFuZGxlUmVzcG9uc2UgPSByZXMgPT4geyAvL9Ce0LHRgNCw0LHQvtGC0LrQsCDQvtGC0LLQtdGC0LBcclxuICBpZiAocmVzLm9rKSB7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICB9XHJcbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCkpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgdXJsLCBoZWFkZXJzfSkge1xyXG4gICAgdGhpcy5fdXJsID0gdXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnNcclxuICB9XHJcblxyXG4gIC8v0J/QvtC70YPRh9C10L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICBnZXRVc2VyRGF0YSgpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXHJcbiAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIC8v0KPRgdGC0LDQvdC+0LLQutCwINC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICBzZXRVc2VyRGF0YSh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwgeyBcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXRcclxuICAgICAgfSlcclxuICAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvL9Cf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0LrQsNGA0YLQvtGH0LXQuiBcItC40Lcg0LrQvtGA0L7QsdC60LhcIlxyXG4gIGdldEluaXRpYWxDYXJkc0RhdGEoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvL9Ce0YLQv9GA0LDQstC60LAg0LTQsNC90L3Ri9GFINC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YBcclxuICBzZXRDYXJkRGF0YSgge25hbWUsIGxpbmsgfSApIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwgeyBcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmtcclxuICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIC8v0KPQtNCw0LvQtdC90LjQtSDQtNCw0L3QvdGL0YUg0LrQsNGA0YLQvtGH0LrQuCDRgSDRgdC10YDQstC10YDQsFxyXG4gIGRlbGV0ZUNhcmQoaXRlbSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpdGVtLl9pZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURSdcclxuICAgIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0J7RgtC/0YDQsNCy0LrQsCDQvdCwINGB0LXRgNCy0LXRgCDQtNCw0L3QvdGL0YUg0L4g0L3QsNC20LDRgtC40Lgg0L3QsCBcItC70LDQudC6XCJcclxuICBhZGRMaWtlKCB7X2lkfSApIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiAnUFVUJ1xyXG4gICAgfSlcclxuICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy/QntGC0L/RgNCw0LLQutCwINC90LAg0YHQtdGA0LLQtdGAINC00LDQvdC90YvRhSDQviDRgdC90Y/RgtC40Lgg0LvQsNC50LrQsFxyXG4gIHJlbW92ZUxpa2UoIHtfaWR9ICkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtfaWR9L2xpa2VzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvL9GD0YHRgtCw0L3QvtCy0LrQsCDQsNCy0LDRgtCw0YDQsFxyXG4gIHNldEF2YXRhcigge2xpbmt9ICkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGxpbmtcclxuICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG5cclxuIiwiY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2l0ZW0nLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zYXZlLWJ0bicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlLWJ0bl9kaXNhYmxlZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2l0ZW1fdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJyxcclxuICBidXR0b25PcGFjaXR5OiAnYnV0dG9uLW9wYWNpdHknXHJcbn07XHJcblxyXG5jb25zdCBhcGlDb25maWcgPSB7XHJcbiAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MCcsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIGF1dGhvcml6YXRpb246ICc3ZGFiYTM3NC1hNTVlLTQyNTAtODFhOS00ZjM3MjRiMjQ3ODQnXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgY29udGFpbmVyOiAnLmVsZW1lbnRzJyxcclxuICBuYW1lRmllbGQ6ICcucHJvZmlsZV9fbmFtZScsXHJcbiAgam9iRmllbGQ6ICcucHJvZmlsZV9fZGVzY3JpcHRpb24nLFxyXG4gIGF2YXRhcjogJy5wcm9maWxlX19hdmF0YXInLFxyXG4gIHBvcHVwUHJvZmlsZTogJy5wb3B1cF90eXBlX3Byb2ZpbGUnLFxyXG4gIHBvcHVwQ2FyZDogJy5wb3B1cF90eXBlX2NhcmQnLFxyXG4gIHBvcHVwUGljdHVyZTogJy5wb3B1cF90eXBlX3BpY3R1cmUnLFxyXG4gIHBvcHVwQ29uZmlybTogJy5wb3B1cF90eXBlX2NvbmZpcm0nLFxyXG4gIHBvcHVwQXZhdGFyOiAnLnBvcHVwX3R5cGVfYXZhdGFyJyxcclxuICBjYXJkVGVtcGxhdGVJZDogJyNjYXJkJ1xyXG59XHJcblxyXG5cclxuXHJcbi8v0JrQvdC+0L/QutC4XHJcbmNvbnN0IGJ1dHRvbk9wZW5Qcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuY29uc3QgYnV0dG9uT3BlbkNhcmRBZGRpdGlvblBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuY29uc3QgYnV0dG9uQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci13cmFwcGVyJyk7XHJcblxyXG4vL9Ck0L7RgNC80YtcclxuY29uc3QgZm9ybUVsZW1lbnRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtW25hbWU9XCJwcm9maWxlLWlucHV0LWZvcm1cIl0nKTtcclxuY29uc3QgZm9ybUVsZW1lbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtW25hbWU9XCJhZGQtY2FyZC1pbnB1dC1mb3JtXCJdJyk7XHJcbmNvbnN0IGZvcm1FbGVtZW50QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtW25hbWU9XCJhdmF0YXItaW5wdXQtZm9ybVwiXScpO1xyXG5cclxuZXhwb3J0IHtcclxuICBhcGlDb25maWcsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBzZWxlY3RvcnMsXHJcbiAgYnV0dG9uT3BlblByb2ZpbGVQb3B1cCxcclxuICBidXR0b25PcGVuQ2FyZEFkZGl0aW9uUG9wdXAsXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZCxcclxuICBmb3JtRWxlbWVudEF2YXRhcixcclxuICBidXR0b25BdmF0YXIsXHJcbn07IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY29uZmlybWVkQWN0aW9uKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2FjdGlvbiA9IGNvbmZpcm1lZEFjdGlvbjtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICB9XHJcblxyXG4gIC8v0JjQt9C80LXQvdC10L3QuNC1INGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC80LXRgtC+0LTQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgSDQv9C10YDQtdC00LDRh9C10Lkg0LIg0L3QtdCz0L4g0LrQsNGA0YLQvtGH0LrQuCDQtNC70Y8g0YPQtNCw0LvQtdC90LjRj1xyXG4gIG9wZW4oaXRlbSkge1xyXG4gICAgdGhpcy5pdGVtID0gaXRlbTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIC8v0JjQt9C80LXQvdC10L3QuNC1INGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC80LXRgtC+0LTQsCDRg9GB0YLQsNC90L7QstC70LXQvdC40Y8g0YHQu9GD0YjQsNGC0LXQu9C10LlcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9hY3Rpb24odGhpcy5pdGVtKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IHtcclxuICBhcGlDb25maWcsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBzZWxlY3RvcnMsXHJcbiAgYnV0dG9uT3BlblByb2ZpbGVQb3B1cCxcclxuICBidXR0b25PcGVuQ2FyZEFkZGl0aW9uUG9wdXAsXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZCxcclxuICBmb3JtRWxlbWVudEF2YXRhcixcclxuICBidXR0b25BdmF0YXIsfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgUG9wdXBDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtJztcclxuXHJcbi8v0JPQtdC90LXRgNCw0YbQuNGPINC60LDRgNGC0L7Rh9C60LhcclxuZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZUlkLCB7XHJcbiAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHsgLy/QpNGD0L3QutGG0LjRjyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC/0L4g0LrQsNGA0YLQuNC90LrQtVxyXG4gICAgICAgICAgICBwb3B1cEltYWdlLm9wZW4oY2FyZC5nZXRDYXJkRGF0YSgpKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVEZWxldGVDbGljazogKCkgPT4geyAvL9Ck0YPQvdC60YbQuNGPINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0L/QviDQuNC60L7QvdC60LUgXCLRg9C00LDQu9C40YLRjFwiXHJcbiAgICAgIHBvcHVwRGVsZXRlQ29uZmlybS5vcGVuKGNhcmQpOyAvL9Ce0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y9cclxuICAgIH0sXHJcbiAgICBoYW5kbGVMaWtlQ2xpY2s6ICgpID0+IHsgLy/QpNGD0L3QutGG0LjRjyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC90LAgXCLQu9Cw0LnQulwiXHJcbiAgICAgIGlmICghY2FyZC5pc0xpa2VkKSB7XHJcbiAgICAgICAgYXBpLmFkZExpa2UoY2FyZClcclxuICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgY2FyZC50b2dnbGVMaWtlKHJlcy5saWtlcy5sZW5ndGgpO30pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwaS5yZW1vdmVMaWtlKGNhcmQpXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgIGNhcmQudG9nZ2xlTGlrZShyZXMubGlrZXMubGVuZ3RoKTt9KTtcclxuICAgICAgfVxyXG4gICAgfX0pO1xyXG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmQoKTtcclxufSBcclxuXHJcbi8v0KTRg9C90LrRhtC40Y8g0LDQutGC0LjQstCw0YbQuNC4INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0L7QsdC10LjRhSDRhNC+0YDQvCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuZnVuY3Rpb24gZW5hYmxlUGFnZVZhbGlkYXRpb24oKSB7XHJcbiAgZm9ybVByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIGZvcm1DYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICBmb3JtQXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxufVxyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBBcGlcclxuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xyXG5sZXQgY2FyZENvbnRhaW5lcjsgLy/QntCx0YrRj9Cy0LvQtdC90LjQtSwg0YfRgtC+0LHRiyDQutC+0L3RgtC10LnQvdC10YAg0L7RgdGC0LDQu9GB0Y8g0LIg0LPQu9C+0LHQsNC70YzQvdC+0Lkg0L7QsdC70LDRgdGC0Lgg0LLQuNC00LjQvNC+0YHRgtC4XHJcbmFwaS5nZXRJbml0aWFsQ2FyZHNEYXRhKClcclxuLnRoZW4oZGF0YSA9PiB7XHJcbiAgLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C80LXQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBTZWN0aW9uKNC60L7QvdGC0LXQudC90LXRgCDQutCw0YDRgtC+0YfQtdC6KVxyXG4gIGNhcmRDb250YWluZXIgPSBuZXcgU2VjdGlvbiggeyBcclxuICBpdGVtczogZGF0YSwgLy/QnNCw0YHRgdC40LIg0YEg0LTQsNC90L3Ri9C80Lgg0LrQsNGA0YLQvtGH0LXQuiDRgSDRgdC10YDQstC10YDQsFxyXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4geyAvL9Ck0YPQvdC60YbQuNGPINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgICBjb25zdCBjYXJkID0gZ2VuZXJhdGVDYXJkKGl0ZW0pO1xyXG4gICAgY2FyZENvbnRhaW5lci5hZGRJdGVtKGNhcmQpO1xyXG4gICAgfX0sXHJcbiAgICBzZWxlY3RvcnMuY29udGFpbmVyKTtcclxuXHJcbiAgLy/QoNC10L3QtNC10YAg0LrQsNGA0YLQvtGH0LXQuiBcItC40Lcg0LrQvtGA0L7QsdC60LhcIlxyXG4gIGNhcmRDb250YWluZXIuYWRkSW5pdGlhbEl0ZW1zKCk7XHJcbiAgfSlcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgRm9ybVZhbGlkYXRvciDQtNC70Y8g0LrQsNC20LTQvtC5INGE0L7RgNC80YtcclxuY29uc3QgZm9ybVByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudFByb2ZpbGUpO1xyXG5jb25zdCBmb3JtQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50Q2FyZCk7XHJcbmNvbnN0IGZvcm1BdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudEF2YXRhcik7XHJcblxyXG4vL9Ch0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQu9Cw0YHRgdCwIFVzZXJJbmZvKNC40L3RhNC+0YDQvNCw0YbQuNGPINC/0YDQvtGE0LjQu9GPKSDQuCDQt9Cw0LPRgNGD0LfQutCwINC00LDQvdC90YvRhSDRgSDRgdC10YDQstC10YDQsFxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBzZWxlY3RvcnMubmFtZUZpZWxkLFxyXG4gIGpvYlNlbGVjdG9yOiBzZWxlY3RvcnMuam9iRmllbGQsXHJcbiAgYXZhdGFyU2VsZWN0b3I6IHNlbGVjdG9ycy5hdmF0YXJ9KTtcclxuXHJcbiAgYXBpLmdldFVzZXJEYXRhKCkgLy/Qn9C+0LvRg9GH0LXQvdC40LUg0LTQsNC90L3Ri9GFINC/0YDQvtGE0LjQu9GPINGBINGB0LXRgNCy0LXRgNCwXHJcbiAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhuZXcgRXJyb3IoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4JykpO1xyXG4gIH0pXHJcbiAgXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQvNC10L/Qu9GP0YDQvtCyINGB0L7QvtGC0LLQtdGC0YHQstGD0Y7RidC40YUg0LrQu9Cw0YHRgdC+0LIg0LTQu9GPINC60LDQttC00L7Qs9C+INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oc2VsZWN0b3JzLnBvcHVwUHJvZmlsZSwgKGRhdGEpID0+IHtcclxuICBwb3B1cFByb2ZpbGUucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGkuc2V0VXNlckRhdGEoZGF0YSlcclxuICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7IFxyXG4gICAgcG9wdXBQcm9maWxlLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiB7IHBvcHVwUHJvZmlsZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTsgfSlcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wdXBDYXJkLCAoZGF0YSkgPT4ge1xyXG4gIHBvcHVwQ2FyZC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5zZXRDYXJkRGF0YShkYXRhKVxyXG4gIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gZ2VuZXJhdGVDYXJkKGRhdGEpO1xyXG4gICAgY2FyZENvbnRhaW5lci5hZGRJdGVtKGNhcmQpO1xyXG4gICAgcG9wdXBDYXJkLmNsb3NlKCk7fSlcclxuICAuZmluYWxseSgoKSA9PiB7IHBvcHVwQ2FyZC5yZW5kZXJMb2FkaW5nKGZhbHNlKTsgfSlcclxuICB9KTtcclxuICBcclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wdXBBdmF0YXIsIChkYXRhKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGkuc2V0QXZhdGFyKGRhdGEpXHJcbiAgLnRoZW4ocmVzID0+IHsgdXNlckluZm8uc2V0QXZhdGFyKHJlcyk7IH0pXHJcbiAgLnRoZW4oKCkgPT4geyBwb3B1cEF2YXRhci5jbG9zZSgpOyB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHsgcG9wdXBBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSk7IH0pXHJcbiAgfSk7XHJcblxyXG5jb25zdCBwb3B1cERlbGV0ZUNvbmZpcm0gPSBuZXcgUG9wdXBDb25maXJtKHNlbGVjdG9ycy5wb3B1cENvbmZpcm0sICAoaXRlbSkgPT4ge1xyXG4gIHBvcHVwRGVsZXRlQ29uZmlybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5kZWxldGVDYXJkKGl0ZW0pXHJcbiAgLnRoZW4oY2FyZCA9PiBjYXJkLmRlbGV0ZSgpKVxyXG4gIC5maW5hbGx5KCgpID0+IHsgcG9wdXBEZWxldGVDb25maXJtLnJlbmRlckxvYWRpbmcoZmFsc2UpOyB9KVxyXG4gIH0pO1xyXG4gIFxyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHNlbGVjdG9ycy5wb3B1cFBpY3R1cmUpO1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgXHJcbiAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70LXQuSDQvdCwINCy0YHQtSDQvNC+0LTQsNC70YzQvdGL0LUg0L7QutC90LBcclxuICBwb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICBwb3B1cENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICBwb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgcG9wdXBEZWxldGVDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgcG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0JfQsNC/0L7Qu9C90LXQvdC40LUg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INGB0YLRgNCw0L3QuNGG0YssINC00L4g0LDQutGC0LjQstCw0YbQuNC4INCy0LDQu9C40LTQsNGG0LjQuCxcclxuLy/QvdC10L7QsdGF0L7QtNC40LzQviDRh9GC0L7QsdGLINC/0YDQuCDQsNC60YLQuNCy0LDRhtC40Lgg0LLQsNC70LjQtNCw0YbQuNC4INC+0L3QsCDQvdC1INC00LXQsNC60YLQuNCy0LjRgNC+0LLQsNC70LAg0LrQvdC+0L/QutGDLFxyXG4vL9C/0YDQvtCy0LXRgNC40LIg0L/Rg9GB0YLRg9GOINGE0L7RgNC80YNcclxucG9wdXBQcm9maWxlLnNldElucHV0VmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG5cclxuLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70LXQuSDQvdCwINC60L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPINC80L7QtNCw0LvRjNC90YvRhSDQvtC60L7QvVxyXG5idXR0b25PcGVuUHJvZmlsZVBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwUHJvZmlsZS5zZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuICBwb3B1cFByb2ZpbGUub3BlbigpfSk7XHJcblxyXG5idXR0b25PcGVuQ2FyZEFkZGl0aW9uUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybUNhcmRWYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICBwb3B1cENhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEF2YXRhci5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy/QkNC60YLQuNCy0LDRhtC40Y8g0LLQsNC70LjQtNCw0YbQuNC4INC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG5lbmFibGVQYWdlVmFsaWRhdGlvbigpOyJdLCJuYW1lcyI6WyJVU0VSX0lEIiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJuYW1lIiwibGluayIsImxpa2VzIiwib3duZXIiLCJfaWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9uYW1lIiwiX2xpbmsiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2xpa2VzIiwiX2xpa2VDb3VudCIsImxlbmd0aCIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9vd25lciIsIl9oYW5kbGVMaWtlQ2xpY2siLCJpc0xpa2VkIiwiX2NoZWNrTGlrZSIsIl90ZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJfY2FyZCIsImNsb25lTm9kZSIsIl9pbWFnZSIsIl90ZXh0IiwiX2J1dHRvbkxpa2UiLCJfYnV0dG9uRGVsZXRlIiwiX2xpa2VDb3VudGVyIiwicmVtb3ZlIiwibGlrZSIsImZvckVhY2giLCJ1c2VyIiwiY2xhc3NMaXN0IiwiYWRkIiwiY291bnQiLCJzZXRMaWtlc0NvdW50IiwiX3JlbW92ZUxpa2UiLCJfYWRkTGlrZSIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImRhdGEiLCJ0ZXh0IiwiX2dldFRlbXBsYXRlIiwiX2NoZWNrT3duZXIiLCJfc2V0RGF0YSIsIl9zZXRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybSIsIl9jb25maWciLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJidXR0b25PcGFjaXR5IiwiZGlzYWJsZWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lclNlbGVjdG9yIiwiX2NvbnRhaW5lciIsImNhcmQiLCJwcmVwZW5kIiwicmV2ZXJzZSIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2J1dHRvbkNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImlzTG9hZGluZyIsIl9idXR0b25TdWJtaXQiLCJkYXRhc2V0IiwiYnV0dG9uTG9hZGluZ1RleHQiLCJidXR0b25UZXh0IiwiUG9wdXBXaXRoSW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaW5wdXRWYWx1ZXNMaXN0IiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiaW5kZXgiLCJyZXNldCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9qb2IiLCJfYXZhdGFyIiwiam9iIiwiYWJvdXQiLCJhdmF0YXIiLCJzZXRBdmF0YXIiLCJoYW5kbGVSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJFcnJvciIsInN0YXR1cyIsIkFwaSIsInVybCIsImhlYWRlcnMiLCJfdXJsIiwiX2hlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJzZWxlY3RvcnMiLCJjb250YWluZXIiLCJuYW1lRmllbGQiLCJqb2JGaWVsZCIsInBvcHVwUHJvZmlsZSIsInBvcHVwQ2FyZCIsInBvcHVwUGljdHVyZSIsInBvcHVwQ29uZmlybSIsInBvcHVwQXZhdGFyIiwiY2FyZFRlbXBsYXRlSWQiLCJidXR0b25PcGVuUHJvZmlsZVBvcHVwIiwiYnV0dG9uT3BlbkNhcmRBZGRpdGlvblBvcHVwIiwiYnV0dG9uQXZhdGFyIiwiZm9ybUVsZW1lbnRQcm9maWxlIiwiZm9ybUVsZW1lbnRDYXJkIiwiZm9ybUVsZW1lbnRBdmF0YXIiLCJQb3B1cENvbmZpcm0iLCJjb25maXJtZWRBY3Rpb24iLCJfYWN0aW9uIiwiZ2VuZXJhdGVDYXJkIiwicG9wdXBJbWFnZSIsIm9wZW4iLCJnZXRDYXJkRGF0YSIsInBvcHVwRGVsZXRlQ29uZmlybSIsImFwaSIsInJlbW92ZUxpa2UiLCJ0b2dnbGVMaWtlIiwiYWRkTGlrZSIsImNyZWF0ZUNhcmQiLCJjYXJkQ29udGFpbmVyIiwiYXV0aG9yaXphdGlvbiIsImdldEluaXRpYWxDYXJkc0RhdGEiLCJhZGRJdGVtIiwiYWRkSW5pdGlhbEl0ZW1zIiwiZm9ybVByb2ZpbGVWYWxpZGF0b3IiLCJmb3JtQ2FyZFZhbGlkYXRvciIsImZvcm1BdmF0YXJWYWxpZGF0b3IiLCJ1c2VySW5mbyIsImdldFVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJyZW5kZXJMb2FkaW5nIiwic2V0VXNlckRhdGEiLCJmaW5hbGx5Iiwic2V0Q2FyZERhdGEiLCJkZWxldGVDYXJkIiwiZGVsZXRlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=