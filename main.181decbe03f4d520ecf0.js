(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e,n,r){var o=e.name,i=e.link;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._templateSelector=n,this._name=o,this._link=i,this._handleCardClick=r}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){this._template=document.querySelector(this._templateSelector).content.querySelector(".element"),this._card=this._template.cloneNode(!0),this._image=this._card.querySelector(".element__image"),this._text=this._card.querySelector(".element__title"),this._buttonLike=this._card.querySelector(".element__like-btn"),this._buttonDelete=this._card.querySelector(".element__delete-btn")}},{key:"_setData",value:function(){this._image.src=this._link,this._image.alt=this._name,this._text.textContent=this._name}},{key:"_handleLikeCard",value:function(){this._buttonLike.classList.toggle("element__like-btn_active")}},{key:"_handleDeleteCard",value:function(){this._card.remove(),this._card=null}},{key:"_setListeners",value:function(){var t=this;this._buttonLike.addEventListener("click",(function(){t._handleLikeCard(t._buttonLike)})),this._buttonDelete.addEventListener("click",(function(){t._handleDeleteCard(t._card)})),this._image.addEventListener("click",(function(e){t._handleCardClick(e)}))}},{key:"getCardData",value:function(){var t={};return t.link=this._link,t.text=this._text.textContent,t}},{key:"createCard",value:function(){return this._getTemplate(),this._setData(),this._setListeners(),this._card}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){var e=this._form.querySelector(".".concat(t.id,"-error"));e.textContent=t.validationMessage,e.classList.add(this._config.errorClass),t.classList.add(this._config.inputErrorClass)}},{key:"_hideInputError",value:function(t){var e=this._form.querySelector(".".concat(t.id,"-error"));e.textContent="",e.classList.remove(this._config.errorClass),t.classList.remove(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.classList.remove(this._config.buttonOpacity),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.classList.add(this._config.buttonOpacity),this._buttonElement.disabled=!1)}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var c=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._containerSelector=n,this._container=document.querySelector(this._containerSelector)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"addInitialItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._buttonClose=this._popup.querySelector(".popup__close-btn")}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._buttonClose.addEventListener("click",(function(){t.close()})),this._popup.addEventListener("mousedown",(function(e){e.target===e.currentTarget&&t.close()}))}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===f(o)?o:String(o)),r)}var o}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(o){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._image=e._popup.querySelector(".popup__image"),e._text=e._popup.querySelector(".popup__description"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.link,n=t.text;this._image.src=e,this._image.alt=n,this._text.textContent=n,m(v(u.prototype),"open",this).call(this)}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===h(o)?o:String(o)),r)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},g.apply(this,arguments)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(r);if(o){var n=w(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._popup.querySelectorAll(".popup__item")),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;g(w(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault();var n=t._getInputValues();t._handleFormSubmit(n)}))}},{key:"setInputValues",value:function(t){var e=0;for(var n in t)this._inputList[e].value=t[n],e++}},{key:"close",value:function(){g(w(u.prototype),"close",this).call(this),this._form.reset()}}])&&_(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var O=function(){function t(e){var n=e.nameSelector,r=e.jobSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._job=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){var t={};return t.name=this._name.textContent,t.job=this._job.textContent,t}},{key:"setUserInfo",value:function(t){var e=t.userName,n=t.description;this._name.textContent=e,this._job.textContent=n}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),P={formSelector:".popup__form",inputSelector:".popup__item",submitButtonSelector:".popup__save-btn",inactiveButtonClass:"popup__save-btn_disabled",inputErrorClass:"popup__item_type_error",errorClass:"popup__error_visible",buttonOpacity:"button-opacity"},C={container:".elements",nameField:".profile__name",jobField:".profile__description",popupProfile:".popup_type_profile",popupCard:".popup_type_card",popupPicture:".popup_type_picture",cardTemplateId:"#card"},L=document.querySelector(".profile__edit-button"),I=document.querySelector(".profile__add-button"),x=document.querySelector('.popup__form[name="profile-input-form"]'),q=document.querySelector('.popup__form[name="add-card-input-form"]');function T(t){var e=new n(t,C.cardTemplateId,(function(){A.open(e.getCardData())}));return e.createCard()}var R=new i(P,x),B=new i(P,q),D=new c({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(t){var e=T(t);D.addItem(e)}},C.container);D.addInitialItems();var V=new O({nameSelector:C.nameField,jobSelector:C.jobField}),F=new k(C.popupProfile,(function(t){V.setUserInfo(t),F.close()})),U=new k(C.popupCard,(function(t){var e=T(t);D.addItem(e),U.close()})),A=new b(C.popupPicture);F.setEventListeners(),U.setEventListeners(),A.setEventListeners(),F.setInputValues(V.getUserInfo()),L.addEventListener("click",(function(){F.setInputValues(V.getUserInfo()),F.open()})),I.addEventListener("click",(function(){B.toggleButtonState(),U.open()})),R.enableValidation(),B.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LG9GQUVSLENBQ0VELEtBQU0scUJBQ05DLEtBQU0sNkZBRVIsQ0FDRUQsS0FBTSxTQUNOQyxLQUFNLGtGQ09Sa0UsU0FBVSxTQUFDTyxHQUNULElBQU1GLEVBQU84QyxFQUFhNUMsR0FDMUJtRCxFQUFjQyxRQUFRdEQsRUFDdEIsR0FDQWtDLEVBQVVDLFdBR2RrQixFQUFjRSxrQkFTZCxJQUFNQyxFQUFXLElBQUkvQixFQUFTLENBQzVCQyxhQUFjUSxFQUFVRSxVQUN4QlQsWUFBYU8sRUFBVUcsV0FHbkJDLEVBQWUsSUFBSXZCLEVBQWNtQixFQUFVSSxjQUFjLFNBQUNuRixHQUM5RHFHLEVBQVNDLFlBQVl0RyxHQUNyQm1GLEVBQWEzQixPQUNmLElBQ000QixFQUFZLElBQUl4QixFQUFjbUIsRUFBVUssV0FBVyxTQUFDcEYsR0FDeEQsSUFBTTZDLEVBQU84QyxFQUFhM0YsR0FDMUJrRyxFQUFjQyxRQUFRdEQsR0FDdEJ1QyxFQUFVNUIsT0FDWixJQUNNb0MsRUFBYSxJQUFJakMsRUFBZW9CLEVBQVVNLGNBR2hERixFQUFhb0Isb0JBQ2JuQixFQUFVbUIsb0JBQ1ZYLEVBQVdXLG9CQUtYcEIsRUFBYXFCLGVBQWVILEVBQVNJLGVBR3JDbEIsRUFBdUIzRixpQkFBaUIsU0FBUyxXQUMvQ3VGLEVBQWFxQixlQUFlSCxFQUFTSSxlQUNyQ3RCLEVBQWFVLE1BQU0sSUFFckJMLEVBQTRCNUYsaUJBQWlCLFNBQVMsV0FDcERxRyxFQUFrQnJFLG9CQUNsQndELEVBQVVTLE1BQ1osSUF2Q0VHLEVBQXFCVSxtQkFDckJULEVBQWtCUyxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHtuYW1lLCBsaW5rfSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG4gIFxyXG4gIC8v0J/QvtC70YPRh9C10L3QuNC1INGI0LDQsdC70L7QvdCwINC60LDRgNGC0L7RgNGH0LrQuCDQuCDQstGB0LXRhSDQvdGD0LbQvdGL0YUg0Y3Qu9C10LzQtdC90YLQvtCyXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgdGhpcy5fdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKTtcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl90ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKTtcclxuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ0bicpO1xyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ0bicpO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9C10YDQtdC00LDRh9CwINC60LDRgNGC0L7Rh9C60LUg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQuCDQt9Cw0LPQvtC70L7QstC60LBcclxuICBfc2V0RGF0YSgpIHtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fdGV4dC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgfVxyXG5cclxuICAvL9Ce0LHRgNCw0LHQvtGC0LrQsCDQvdCw0LbQsNGC0LjRjyDQutC90L7Qv9C60LggXCLQu9Cw0LnQulwiXHJcbiAgX2hhbmRsZUxpa2VDYXJkKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlLWJ0bl9hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIC8v0J7QsdGA0LDQsdC+0YLQutCwINC90LDQttCw0YLQuNGPINC60L3QvtC/0LrQuCBcItGD0LTQsNC70LjRgtGMXCJcclxuICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8v0JTQvtCx0LDQstC70LXQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9C10LlcclxuICBfc2V0TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLl9oYW5kbGVMaWtlQ2FyZCh0aGlzLl9idXR0b25MaWtlKX0pO1xyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZCl9KTtcclxuICAgIHRoaXMuX2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZ0ID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKGV2dCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZERhdGEoKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICBkYXRhLmxpbmsgPSB0aGlzLl9saW5rO1xyXG4gICAgZGF0YS50ZXh0ID0gdGhpcy5fdGV4dC50ZXh0Q29udGVudDtcclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIC8v0KHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXREYXRhKCk7XHJcbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuXHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvL9Cf0L7QutCw0LfQsNGC0Ywg0L7RiNC40LHQutGDXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcblxyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvL9Ch0LrRgNGL0YLRjCDQvtGI0LjQsdC60YNcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9GA0L7QstC10YDQutCwINCy0LDQu9C40LTQvdC+0YHRgtC4INC/0L7Qu9GPXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0YHQvtCx0YvRgtC40Y8gJ2lucHV0JyDQvdCwINC/0L7Qu9GPINCy0LLQvtC00LBcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvL9Cf0YDQvtCy0LXRgNC60LAg0L3QsNC70LjRh9C40Y8v0L7RgtGB0YPRgtGB0LLQuNGPINC90LXQstCw0LvQuNC00L3QvtCz0L4g0L/QvtC70Y8g0LIg0YTQvtGA0LzQtVxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoaW5wdXRFbGVtZW50ID0+IHtcclxuICAgICAgcmV0dXJuICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy/QkNC60YLQuNCy0LDRhtC40Y8v0LTQtdCw0LrRgtC40LLQsNGG0LjRjyDQutC90L7Qv9C60Lggc3VibWl0XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5idXR0b25PcGFjaXR5KVxyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuYnV0dG9uT3BhY2l0eSlcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/QktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyU2VsZWN0b3IgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICAgIC8v0J/QvtC70YPRh9C10L3QuNC1INC60L7QvdGC0LXQudC90LXRgNCwINC/0L4g0YHQtdC70LXQutGC0L7RgNGDXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbiAgYWRkSXRlbShjYXJkKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkKTtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQtdC6IFwi0LjQtyDQutC+0YDQvtCx0LrQuFwiXHJcbiAgYWRkSW5pdGlhbEl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KVxyXG4gIH1cclxufSIsImNvbnN0IEtFWV9FU0NBUEVfVkFMVUUgPSAnRXNjYXBlJyBcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9idXR0b25DbG9zZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnRuJyk7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0L7RgtC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy/QntCx0YDQsNCx0L7RgtGH0LjQuiDQt9Cw0LrRgNGL0YLQuNGPINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINC60LvQsNCy0LjRiNC10LkgXCJFc2NcIlxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBLRVlfRVNDQVBFX1ZBTFVFKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0JTQvtCx0LDQstC70LXQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YHQvtCx0YvRgtC40LlcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2J1dHRvbkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyB0aGlzLmNsb3NlKCk7IH0pO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2dCA9PiB7XHJcbiAgICAgIGlmKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX3RleHQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Rlc2NyaXB0aW9uJyk7XHJcbiAgfVxyXG5cclxuICAvL9Ce0YLQutGA0YvRgtC40LUg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0YEg0L/RgNC10LTQstCw0YDQuNGC0LXQu9GM0L3Ri9C8INC90LDQv9C+0LvQvdC10L3QuNC10LxcclxuICBvcGVuKHsgbGluaywgdGV4dCB9KSB7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGV4dDtcclxuICAgIHRoaXMuX3RleHQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgc3VwZXIub3BlbigpXHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faXRlbScpKTtcclxuICB9XHJcblxyXG4gIC8v0J/QvtC70YPRh9C10L3QuNC1INC30L3QsNGH0LXQvdC40Lkg0L/QvtC70LXQuSDRhNC+0YDQvNGLXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXNMaXN0ID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzTGlzdFtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXNMaXN0O1xyXG4gIH1cclxuXHJcbiAgLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70LXQuSDRgdC+0LHRi9GC0LjQuVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoZGF0YSk7XHJcbiAgICAgfSlcclxuICB9XHJcblxyXG4gIC8v0JfQsNC/0L7Qu9C90LXQvdC40LUg0L/QvtC70LXQuSDRhNC+0YDQvNGLINC00LDQvdC90YvQvNC4INC40Lcg0L/QtdGA0LXQtNCw0LLQsNC10LzQvtCz0L4g0L7QsdGK0LXQutGC0LBcclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHtcclxuICAgICAgdGhpcy5faW5wdXRMaXN0W2luZGV4XS52YWx1ZSA9IGRhdGFba2V5XTtcclxuICAgICAgaW5kZXgrKztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0JfQsNC60YDRi9GC0LjQtSDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDRgdC+INGB0LHRgNC+0YHQvtC8INC30L3QsNGH0LXQvdC40Lkg0L/QvtC70LXQuSDRhNC+0YDQvNGLXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy/QnNC10YLQvtC0INC/0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y8g0YHQviDRgdGC0YDQsNC90LjRhtGLXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICBkYXRhLm5hbWUgPSB0aGlzLl9uYW1lLnRleHRDb250ZW50O1xyXG4gICAgZGF0YS5qb2IgPSB0aGlzLl9qb2IudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICAvL9Cc0LXRgtC+0LQg0YPRgdGC0LDQvdC+0LLQutC4INC00LDQvdC90YvRhSDQv9GA0L7RhNC40LvRjyDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LjQtyDQv9C10YDQtdC00LDQstCw0LXQvNC+0LPQviDQvtCx0YrQtdC60YLQsFxyXG4gIHNldFVzZXJJbmZvKHsgdXNlck5hbWUsIGRlc2NyaXB0aW9uIH0pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG4gIH1cclxufSIsImNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcclxuICB9XHJcbl07XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faXRlbScsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmUtYnRuJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3NhdmUtYnRuX2Rpc2FibGVkJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faXRlbV90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnLFxyXG4gIGJ1dHRvbk9wYWNpdHk6ICdidXR0b24tb3BhY2l0eSdcclxufTtcclxuXHJcbmNvbnN0IHNlbGVjdG9ycyA9IHtcclxuICBjb250YWluZXI6ICcuZWxlbWVudHMnLFxyXG4gIG5hbWVGaWVsZDogJy5wcm9maWxlX19uYW1lJyxcclxuICBqb2JGaWVsZDogJy5wcm9maWxlX19kZXNjcmlwdGlvbicsXHJcbiAgcG9wdXBQcm9maWxlOiAnLnBvcHVwX3R5cGVfcHJvZmlsZScsXHJcbiAgcG9wdXBDYXJkOiAnLnBvcHVwX3R5cGVfY2FyZCcsXHJcbiAgcG9wdXBQaWN0dXJlOiAnLnBvcHVwX3R5cGVfcGljdHVyZScsXHJcbiAgY2FyZFRlbXBsYXRlSWQ6ICcjY2FyZCdcclxufVxyXG5cclxuLy/QmtC90L7Qv9C60LhcclxuY29uc3QgYnV0dG9uT3BlblByb2ZpbGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5jb25zdCBidXR0b25PcGVuQ2FyZEFkZGl0aW9uUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5cclxuLy/QpNC+0YDQvNGLXHJcbmNvbnN0IGZvcm1FbGVtZW50UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybVtuYW1lPVwicHJvZmlsZS1pbnB1dC1mb3JtXCJdJyk7XHJcbmNvbnN0IGZvcm1FbGVtZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybVtuYW1lPVwiYWRkLWNhcmQtaW5wdXQtZm9ybVwiXScpO1xyXG5cclxuZXhwb3J0IHtcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGluaXRpYWxDYXJkcyxcclxuICBzZWxlY3RvcnMsXHJcbiAgYnV0dG9uT3BlblByb2ZpbGVQb3B1cCxcclxuICBidXR0b25PcGVuQ2FyZEFkZGl0aW9uUG9wdXAsXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZFxyXG59OyIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGluaXRpYWxDYXJkcyxcclxuICBzZWxlY3RvcnMsXHJcbiAgYnV0dG9uT3BlblByb2ZpbGVQb3B1cCxcclxuICBidXR0b25PcGVuQ2FyZEFkZGl0aW9uUG9wdXAsXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbi8v0JPQtdC90LXRgNCw0YbQuNGPINC60LDRgNGC0L7Rh9C60LhcclxuZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZUlkLCAoKSA9PiB7IC8v0KTRg9C90LrRhtC40Y8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQv9C+INC60LDRgNGC0LjQvdC60LVcclxuICAgIHBvcHVwSW1hZ2Uub3BlbihjYXJkLmdldENhcmREYXRhKCkpO1xyXG4gIH0pO1xyXG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmQoKTtcclxufSBcclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBGb3JtVmFsaWRhdG9yINC00LvRjyDQutCw0LbQtNC+0Lkg0YTQvtGA0LzRi1xyXG5jb25zdCBmb3JtUHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50UHJvZmlsZSk7XHJcbmNvbnN0IGZvcm1DYXJkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnRDYXJkKTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDRjdC60LfQvNC10L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgU2VjdGlvbijQutC+0L3RgtC10LnQvdC10YAg0LrQsNGA0YLQvtGH0LXQuilcclxuY29uc3QgY2FyZENvbnRhaW5lciA9IG5ldyBTZWN0aW9uKCB7IFxyXG4gIGl0ZW1zOiBpbml0aWFsQ2FyZHMsIFxyXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4geyAvL9Ck0YPQvdC60YbQuNGPINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgICBjb25zdCBjYXJkID0gZ2VuZXJhdGVDYXJkKGl0ZW0pO1xyXG4gICAgY2FyZENvbnRhaW5lci5hZGRJdGVtKGNhcmQpO1xyXG4gICAgfX0sXHJcbiAgICBzZWxlY3RvcnMuY29udGFpbmVyKTtcclxuXHJcbi8v0KDQtdC90LTQtdGAINC60LDRgNGC0L7Rh9C10LogXCLQuNC3INC60L7RgNC+0LHQutC4XCJcclxuY2FyZENvbnRhaW5lci5hZGRJbml0aWFsSXRlbXMoKTtcclxuXHJcbi8v0KTRg9C90LrRhtC40Y8g0LDQutGC0LjQstCw0YbQuNC4INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0L7QsdC10LjRhSDRhNC+0YDQvCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuZnVuY3Rpb24gZW5hYmxlUGFnZVZhbGlkYXRpb24oKSB7XHJcbiAgZm9ybVByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIGZvcm1DYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxufVxyXG5cclxuLy/QodC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBVc2VySW5mbyjQuNC90YTQvtGA0LzQsNGG0LjRjyDQv9GA0L7RhNC40LvRjylcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3Rvcjogc2VsZWN0b3JzLm5hbWVGaWVsZCxcclxuICBqb2JTZWxlY3Rvcjogc2VsZWN0b3JzLmpvYkZpZWxkfSk7XHJcblxyXG4vL9Ch0L7Qt9C00LDQvdC40LUg0Y3QutC30LzQtdC/0LvRj9GA0L7QsiDRgdC+0L7RgtCy0LXRgtGB0LLRg9GO0YnQuNGFINC60LvQsNGB0YHQvtCyINC00LvRjyDQutCw0LbQtNC+0LPQviDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wdXBQcm9maWxlLCAoZGF0YSkgPT4ge1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpOyBcclxuICBwb3B1cFByb2ZpbGUuY2xvc2UoKTtcclxufSk7XHJcbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5wb3B1cENhcmQsIChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IGdlbmVyYXRlQ2FyZChkYXRhKTtcclxuICBjYXJkQ29udGFpbmVyLmFkZEl0ZW0oY2FyZCk7XHJcbiAgcG9wdXBDYXJkLmNsb3NlKCk7XHJcbn0pO1xyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHNlbGVjdG9ycy5wb3B1cFBpY3R1cmUpO1xyXG5cclxuLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70LXQuSDQvdCwINCy0YHQtSDQvNC+0LTQsNC70YzQvdGL0LUg0L7QutC90LBcclxucG9wdXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9CX0LDQv9C+0LvQvdC10L3QuNC1INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDRgdGC0YDQsNC90LjRhtGLLCDQtNC+INCw0LrRgtC40LLQsNGG0LjQuCDQstCw0LvQuNC00LDRhtC40LgsXHJcbi8v0L3QtdC+0LHRhdC+0LTQuNC80L4g0YfRgtC+0LHRiyDQv9GA0Lgg0LDQutGC0LjQstCw0YbQuNC4INCy0LDQu9C40LTQsNGG0LjQuCDQvtC90LAg0L3QtSDQtNC10LDQutGC0LjQstC40YDQvtCy0LDQu9CwINC60L3QvtC/0LrRgyxcclxuLy/Qv9GA0L7QstC10YDQuNCyINC/0YPRgdGC0YPRjiDRhNC+0YDQvNGDXHJcbnBvcHVwUHJvZmlsZS5zZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuXHJcbi8v0JTQvtCx0LDQstC70LXQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0L3QsCDQutC90L7Qv9C60Lgg0L7RgtC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdGL0YUg0L7QutC+0L1cclxuYnV0dG9uT3BlblByb2ZpbGVQb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGUuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XHJcbiAgcG9wdXBQcm9maWxlLm9wZW4oKX0pO1xyXG5cclxuYnV0dG9uT3BlbkNhcmRBZGRpdGlvblBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGZvcm1DYXJkVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgcG9wdXBDYXJkLm9wZW4oKTtcclxufSlcclxuXHJcbi8v0JDQutGC0LjQstCw0YbQuNGPINCy0LDQu9C40LTQsNGG0LjQuCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuZW5hYmxlUGFnZVZhbGlkYXRpb24oKTsiXSwibmFtZXMiOlsiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJuYW1lIiwibGluayIsInRoaXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9uYW1lIiwiX2xpbmsiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX3RlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsIl9jYXJkIiwiY2xvbmVOb2RlIiwiX2ltYWdlIiwiX3RleHQiLCJfYnV0dG9uTGlrZSIsIl9idXR0b25EZWxldGUiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUNhcmQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsImV2dCIsImRhdGEiLCJ0ZXh0IiwiX2dldFRlbXBsYXRlIiwiX3NldERhdGEiLCJfc2V0TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm0iLCJfY29uZmlnIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImFkZCIsImVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImJ1dHRvbk9wYWNpdHkiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyU2VsZWN0b3IiLCJfY29udGFpbmVyIiwiY2FyZCIsInByZXBlbmQiLCJpdGVtIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9idXR0b25DbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJpbnB1dFZhbHVlc0xpc3QiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbmRleCIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9qb2IiLCJqb2IiLCJ1c2VyTmFtZSIsImRlc2NyaXB0aW9uIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsInNlbGVjdG9ycyIsImNvbnRhaW5lciIsIm5hbWVGaWVsZCIsImpvYkZpZWxkIiwicG9wdXBQcm9maWxlIiwicG9wdXBDYXJkIiwicG9wdXBQaWN0dXJlIiwiY2FyZFRlbXBsYXRlSWQiLCJidXR0b25PcGVuUHJvZmlsZVBvcHVwIiwiYnV0dG9uT3BlbkNhcmRBZGRpdGlvblBvcHVwIiwiZm9ybUVsZW1lbnRQcm9maWxlIiwiZm9ybUVsZW1lbnRDYXJkIiwiZ2VuZXJhdGVDYXJkIiwicG9wdXBJbWFnZSIsIm9wZW4iLCJnZXRDYXJkRGF0YSIsImNyZWF0ZUNhcmQiLCJmb3JtUHJvZmlsZVZhbGlkYXRvciIsImZvcm1DYXJkVmFsaWRhdG9yIiwiY2FyZENvbnRhaW5lciIsImFkZEl0ZW0iLCJhZGRJbml0aWFsSXRlbXMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=